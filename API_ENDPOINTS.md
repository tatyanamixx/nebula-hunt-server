# Nebulahunt Server API Endpoints

## üîó –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

### Health Check

-   `GET /health` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–µ—Ä–∞

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

-   `GET /api-docs` - Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
-   `GET /metrics` - Prometheus –º–µ—Ç—Ä–∏–∫–∏

## üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏

-   `POST /api/auth/login` - –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –≤—Ö–æ–¥/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram WebApp
-   `GET /api/auth/refresh` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏

### –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã

-   `POST /api/admin/init` - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
-   `POST /api/admin/login` - –í—Ö–æ–¥ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ —á–µ—Ä–µ–∑ Google OAuth
-   `POST /api/admin/register` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
-   `GET /api/admin/profile` - –ü—Ä–æ—Ñ–∏–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
-   `PUT /api/admin/profile` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

## üë§ –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

-   `GET /api/state` - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
-   `PUT /api/state` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## üåå –ì–∞–ª–∞–∫—Ç–∏–∫–∏

-   `GET /api/galaxies` - –°–ø–∏—Å–æ–∫ –≥–∞–ª–∞–∫—Ç–∏–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
-   `POST /api/galaxies` - –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –≥–∞–ª–∞–∫—Ç–∏–∫–∏
-   `GET /api/galaxies/:id` - –ü–æ–ª—É—á–µ–Ω–∏–µ –≥–∞–ª–∞–∫—Ç–∏–∫–∏ –ø–æ ID
-   `PUT /api/galaxies/:id` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≥–∞–ª–∞–∫—Ç–∏–∫–∏
-   `DELETE /api/galaxies/:id` - –£–¥–∞–ª–µ–Ω–∏–µ –≥–∞–ª–∞–∫—Ç–∏–∫–∏

## üè∫ –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã

-   `GET /api/artifacts` - –°–ø–∏—Å–æ–∫ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
-   `POST /api/artifacts` - –°–æ–∑–¥–∞–Ω–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞
-   `GET /api/artifacts/:id` - –ü–æ–ª—É—á–µ–Ω–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞ –ø–æ ID
-   `PUT /api/artifacts/:id` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞
-   `DELETE /api/artifacts/:id` - –£–¥–∞–ª–µ–Ω–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞

## üìã –ó–∞–¥–∞–Ω–∏—è

-   `GET /api/tasks` - –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
-   `POST /api/tasks/:id/complete` - –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è
-   `GET /api/tasks/:id/progress` - –ü—Ä–æ–≥—Ä–µ—Å—Å –∑–∞–¥–∞–Ω–∏—è

## üéØ –°–æ–±—ã—Ç–∏—è

-   `GET /api/events` - –°–ø–∏—Å–æ–∫ —Å–æ–±—ã—Ç–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
-   `POST /api/events/:id/trigger` - –ê–∫—Ç–∏–≤–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏—è
-   `GET /api/events/:id/progress` - –ü—Ä–æ–≥—Ä–µ—Å—Å —Å–æ–±—ã—Ç–∏—è

## ‚ö° –£–ª—É—á—à–µ–Ω–∏—è

-   `GET /api/upgrades` - –°–ø–∏—Å–æ–∫ —É–ª—É—á—à–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
-   `POST /api/upgrades/:id/upgrade` - –£–ª—É—á—à–µ–Ω–∏–µ —É–∑–ª–∞
-   `GET /api/upgrades/tree` - –î–µ—Ä–µ–≤–æ —É–ª—É—á—à–µ–Ω–∏–π

## üè™ –†—ã–Ω–æ–∫

-   `GET /api/market/offers` - –°–ø–∏—Å–æ–∫ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –Ω–∞ —Ä—ã–Ω–∫–µ
-   `POST /api/market/offers` - –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
-   `GET /api/market/offers/:id` - –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
-   `PUT /api/market/offers/:id` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
-   `DELETE /api/market/offers/:id` - –û—Ç–º–µ–Ω–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
-   `POST /api/market/offers/:id/buy` - –ü–æ–∫—É–ø–∫–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è

## üì¶ –ü–∞–∫–µ—Ç—ã

-   `GET /api/packages` - –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
-   `GET /api/packages/:slug` - –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–∞–∫–µ—Ç–∞ –ø–æ slug
-   `POST /api/packages/:slug/use` - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–∫–µ—Ç–∞

## üéÆ –ò–≥—Ä–æ–≤–∞—è –º–µ—Ö–∞–Ω–∏–∫–∞

-   `POST /api/game/farming-reward` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞–≥—Ä–∞–¥ –∑–∞ —Ñ–∞—Ä–º–∏–Ω–≥
-   `POST /api/game/register-transfer-stardust-to-galaxy` - –ü–µ—Ä–µ–¥–∞—á–∞ –∑–≤–µ–∑–¥–Ω–æ–π –ø—ã–ª–∏ –≤ –≥–∞–ª–∞–∫—Ç–∏–∫—É
-   `POST /api/game/daily-reward` - –ü–æ–ª—É—á–µ–Ω–∏–µ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π –Ω–∞–≥—Ä–∞–¥—ã

## üìä –ú–µ—Ç—Ä–∏–∫–∏

-   `GET /api/game-metrics` - –ò–≥—Ä–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏
-   `GET /api/metrics` - Prometheus –º–µ—Ç—Ä–∏–∫–∏

## üîß –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

-   `GET /api/admin/users` - –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
-   `GET /api/admin/users/:id` - –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ ID
-   `PUT /api/admin/users/:id` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
-   `DELETE /api/admin/users/:id` - –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

-   `GET /api/admin/statistics` - –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
-   `GET /api/admin/statistics/users` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
-   `GET /api/admin/statistics/game` - –ò–≥—Ä–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è–º–∏

-   `POST /api/admin/password-reset/request` - –ó–∞–ø—Ä–æ—Å —Å–±—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è
-   `POST /api/admin/password-reset/reset` - –°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è
-   `POST /api/admin/password-reset/force-change` - –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è —Å–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è

## üìù –®–∞–±–ª–æ–Ω—ã (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤)

### –ó–∞–¥–∞–Ω–∏—è

-   `GET /api/task-templates` - –°–ø–∏—Å–æ–∫ —à–∞–±–ª–æ–Ω–æ–≤ –∑–∞–¥–∞–Ω–∏–π
-   `POST /api/task-templates` - –°–æ–∑–¥–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ –∑–∞–¥–∞–Ω–∏—è
-   `GET /api/task-templates/:id` - –ü–æ–ª—É—á–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ –∑–∞–¥–∞–Ω–∏—è
-   `PUT /api/task-templates/:id` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ –∑–∞–¥–∞–Ω–∏—è
-   `DELETE /api/task-templates/:id` - –£–¥–∞–ª–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ –∑–∞–¥–∞–Ω–∏—è

### –°–æ–±—ã—Ç–∏—è

-   `GET /api/event-templates` - –°–ø–∏—Å–æ–∫ —à–∞–±–ª–æ–Ω–æ–≤ —Å–æ–±—ã—Ç–∏–π
-   `POST /api/event-templates` - –°–æ–∑–¥–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ —Å–æ–±—ã—Ç–∏—è
-   `GET /api/event-templates/:id` - –ü–æ–ª—É—á–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ —Å–æ–±—ã—Ç–∏—è
-   `PUT /api/event-templates/:id` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ —Å–æ–±—ã—Ç–∏—è
-   `DELETE /api/event-templates/:id` - –£–¥–∞–ª–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ —Å–æ–±—ã—Ç–∏—è

### –£–ª—É—á—à–µ–Ω–∏—è

-   `GET /api/upgrade-templates` - –°–ø–∏—Å–æ–∫ —à–∞–±–ª–æ–Ω–æ–≤ —É–ª—É—á—à–µ–Ω–∏–π
-   `POST /api/upgrade-templates` - –°–æ–∑–¥–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ —É–ª—É—á—à–µ–Ω–∏—è
-   `GET /api/upgrade-templates/:id` - –ü–æ–ª—É—á–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ —É–ª—É—á—à–µ–Ω–∏—è
-   `PUT /api/upgrade-templates/:id` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ —É–ª—É—á—à–µ–Ω–∏—è
-   `DELETE /api/upgrade-templates/:id` - –£–¥–∞–ª–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ —É–ª—É—á—à–µ–Ω–∏—è

### –ü–∞–∫–µ—Ç—ã

-   `GET /api/package-templates` - –°–ø–∏—Å–æ–∫ —à–∞–±–ª–æ–Ω–æ–≤ –ø–∞–∫–µ—Ç–æ–≤
-   `POST /api/package-templates` - –°–æ–∑–¥–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ –ø–∞–∫–µ—Ç–∞
-   `GET /api/package-templates/:id` - –ü–æ–ª—É—á–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ –ø–∞–∫–µ—Ç–∞
-   `PUT /api/package-templates/:id` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ –ø–∞–∫–µ—Ç–∞
-   `DELETE /api/package-templates/:id` - –£–¥–∞–ª–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ –ø–∞–∫–µ—Ç–∞

### –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã

-   `GET /api/artifact-templates` - –°–ø–∏—Å–æ–∫ —à–∞–±–ª–æ–Ω–æ–≤ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤
-   `POST /api/artifact-templates` - –°–æ–∑–¥–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞
-   `GET /api/artifact-templates/:id` - –ü–æ–ª—É—á–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞
-   `PUT /api/artifact-templates/:id` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞
-   `DELETE /api/artifact-templates/:id` - –£–¥–∞–ª–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞

### –ö–æ–º–∏—Å—Å–∏–∏

-   `GET /api/commission-templates` - –°–ø–∏—Å–æ–∫ —à–∞–±–ª–æ–Ω–æ–≤ –∫–æ–º–∏—Å—Å–∏–π
-   `POST /api/commission-templates` - –°–æ–∑–¥–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ –∫–æ–º–∏—Å—Å–∏–∏
-   `GET /api/commission-templates/:id` - –ü–æ–ª—É—á–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ –∫–æ–º–∏—Å—Å–∏–∏
-   `PUT /api/commission-templates/:id` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ –∫–æ–º–∏—Å—Å–∏–∏
-   `DELETE /api/commission-templates/:id` - –£–¥–∞–ª–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ –∫–æ–º–∏—Å—Å–∏–∏

## üîç –ü—Ä–æ—Å–º–æ—Ç—Ä —à–∞–±–ª–æ–Ω–æ–≤

-   `GET /api/template-views` - –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö —à–∞–±–ª–æ–Ω–æ–≤
-   `GET /api/template-views/tasks` - –ü—Ä–æ—Å–º–æ—Ç—Ä —à–∞–±–ª–æ–Ω–æ–≤ –∑–∞–¥–∞–Ω–∏–π
-   `GET /api/template-views/events` - –ü—Ä–æ—Å–º–æ—Ç—Ä —à–∞–±–ª–æ–Ω–æ–≤ —Å–æ–±—ã—Ç–∏–π
-   `GET /api/template-views/upgrades` - –ü—Ä–æ—Å–º–æ—Ç—Ä —à–∞–±–ª–æ–Ω–æ–≤ —É–ª—É—á—à–µ–Ω–∏–π
-   `GET /api/template-views/packages` - –ü—Ä–æ—Å–º–æ—Ç—Ä —à–∞–±–ª–æ–Ω–æ–≤ –ø–∞–∫–µ—Ç–æ–≤
-   `GET /api/template-views/artifacts` - –ü—Ä–æ—Å–º–æ—Ç—Ä —à–∞–±–ª–æ–Ω–æ–≤ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤

## üìã –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

-   –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏: —á–µ—Ä–µ–∑ Telegram WebApp initData
-   –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã: —á–µ—Ä–µ–∑ Google OAuth + 2FA

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

-   –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ —Ç—Ä–µ–±—É—é—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
-   –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Ç—Ä–µ–±—É—é—Ç —Ä–æ–ª–∏ ADMIN –∏–ª–∏ SUPERVISOR
-   –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã —à–∞–±–ª–æ–Ω–æ–≤ –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º

### Rate Limiting

-   –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–π
-   –†–∞–∑–ª–∏—á–Ω—ã–µ –ª–∏–º–∏—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

-   –í—Å–µ –æ—à–∏–±–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç JSON —Å –ø–æ–ª–µ–º `error` –∏ `errorCode`
-   HTTP —Å—Ç–∞—Ç—É—Å –∫–æ–¥—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ç–∏–ø—É –æ—à–∏–±–∫–∏
-   –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ—à–∏–±–æ–∫ –≤ Swagger
