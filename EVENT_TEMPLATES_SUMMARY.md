# Event Templates System - Summary

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–æ–∑–¥–∞–Ω–æ

### 1. Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

-   ‚úÖ –°–æ–∑–¥–∞–Ω `EventTemplatesTab.tsx` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
-   ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–∏–∑–∞–π–Ω –∫–∞–∫ –≤ `PackageTemplatesTab`
-   ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—Å–µ –ø–æ–ª—è EventTemplate –º–æ–¥–µ–ª–∏
-   ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –≤ `GameSettings` —Å—Ç—Ä–∞–Ω–∏—Ü—É

### 2. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã —Å–æ–±—ã—Ç–∏–π

-   ‚úÖ **RANDOM** - —Å–ª—É—á–∞–π–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è —Å –∑–∞–¥–∞–Ω–Ω–æ–π –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é
-   ‚úÖ **PERIODIC** - –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ —Å–æ–±—ã—Ç–∏—è –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
-   ‚úÖ **ONE_TIME** - –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è
-   ‚úÖ **CONDITIONAL** - —Å–æ–±—ã—Ç–∏—è, —Å—Ä–∞–±–∞—Ç—ã–≤–∞—é—â–∏–µ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —É—Å–ª–æ–≤–∏–π
-   ‚úÖ **CHAINED** - —Ü–µ–ø–æ—á–∫–∏ —Å–æ–±—ã—Ç–∏–π
-   ‚úÖ **TRIGGERED_BY_ACTION** - —Å–æ–±—ã—Ç–∏—è, —Å—Ä–∞–±–∞—Ç—ã–≤–∞—é—â–∏–µ –æ—Ç –¥–µ–π—Å—Ç–≤–∏–π –∏–≥—Ä–æ–∫–∞
-   ‚úÖ **GLOBAL_TIMED** - –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –ø–æ –≤—Ä–µ–º–µ–Ω–∏
-   ‚úÖ **LIMITED_REPEATABLE** - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ –ø–æ–≤—Ç–æ—Ä—è–µ–º—ã–µ —Å–æ–±—ã—Ç–∏—è
-   ‚úÖ **SEASONAL** - —Å–µ–∑–æ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
-   ‚úÖ **PASSIVE** - –ø–∞—Å—Å–∏–≤–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
-   ‚úÖ **RESOURCE_BASED** - —Å–æ–±—ã—Ç–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ—Å—É—Ä—Å–æ–≤
-   ‚úÖ **UPGRADE_DEPENDENT** - —Å–æ–±—ã—Ç–∏—è, –∑–∞–≤–∏—Å—è—â–∏–µ –æ—Ç —É–ª—É—á—à–µ–Ω–∏–π
-   ‚úÖ **TASK_DEPENDENT** - —Å–æ–±—ã—Ç–∏—è, –∑–∞–≤–∏—Å—è—â–∏–µ –æ—Ç –∑–∞–¥–∞–Ω–∏–π
-   ‚úÖ **MARKET_DEPENDENT** - —Å–æ–±—ã—Ç–∏—è, –∑–∞–≤–∏—Å—è—â–∏–µ –æ—Ç —Ä—ã–Ω–∫–∞
-   ‚úÖ **MULTIPLAYER** - –º—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
-   ‚úÖ **PROGRESSIVE** - –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
-   ‚úÖ **TIERED** - –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è

### 3. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

-   ‚úÖ **CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏**: —Å–æ–∑–¥–∞–Ω–∏–µ, —á—Ç–µ–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ
-   ‚úÖ **JSON –∏–º–ø–æ—Ä—Ç/—ç–∫—Å–ø–æ—Ä—Ç**: –∑–∞–≥—Ä—É–∑–∫–∞ –∏ –≤—ã–≥—Ä—É–∑–∫–∞ —à–∞–±–ª–æ–Ω–æ–≤
-   ‚úÖ **–ê–∫—Ç–∏–≤–∞—Ü–∏—è/–¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è**: –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —Å–æ–±—ã—Ç–∏–π
-   ‚úÖ **–í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã**: –∏–∫–æ–Ω–∫–∏ –∏ —Ü–≤–µ—Ç–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤
-   ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è**: –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π

### 4. –ü—Ä–∏–º–µ—Ä—ã –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

-   ‚úÖ –°–æ–∑–¥–∞–Ω `event-templates-example.json` —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏
-   ‚úÖ –°–æ–∑–¥–∞–Ω `test-event-templates-api.js` –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API
-   ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –≤ GameSettings –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω–∞—è –≤–∫–ª–∞–¥–∫–∞

## üé® UI –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –ò–∫–æ–Ω–∫–∏ –¥–ª—è —Ç–∏–ø–æ–≤ —Å–æ–±—ã—Ç–∏–π

-   **RANDOM**: ‚ö° (Zap)
-   **PERIODIC**: üïê (Clock)
-   **ONE_TIME**: üìÖ (Calendar)
-   **CONDITIONAL**: üéØ (Target)
-   **–û—Å—Ç–∞–ª—å–Ω—ã–µ**: ‚ö†Ô∏è (AlertCircle)

### –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞

-   **RANDOM**: –∂–µ–ª—Ç—ã–π (bg-yellow-600)
-   **PERIODIC**: —Å–∏–Ω–∏–π (bg-blue-600)
-   **ONE_TIME**: —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π (bg-purple-600)
-   **CONDITIONAL**: –∑–µ–ª–µ–Ω—ã–π (bg-green-600)
-   **CHAINED**: –∏–Ω–¥–∏–≥–æ (bg-indigo-600)
-   **TRIGGERED_BY_ACTION**: –∫—Ä–∞—Å–Ω—ã–π (bg-red-600)
-   **GLOBAL_TIMED**: —Ä–æ–∑–æ–≤—ã–π (bg-pink-600)
-   **LIMITED_REPEATABLE**: –æ—Ä–∞–Ω–∂–µ–≤—ã–π (bg-orange-600)
-   **SEASONAL**: –±–∏—Ä—é–∑–æ–≤—ã–π (bg-teal-600)
-   **PASSIVE**: —Å–µ—Ä—ã–π (bg-gray-600)
-   **RESOURCE_BASED**: —è–Ω—Ç–∞—Ä–Ω—ã–π (bg-amber-600)
-   **UPGRADE_DEPENDENT**: –≥–æ–ª—É–±–æ–π (bg-cyan-600)
-   **TASK_DEPENDENT**: –ª–∞–π–º–æ–≤—ã–π (bg-lime-600)
-   **MARKET_DEPENDENT**: –∏–∑—É–º—Ä—É–¥–Ω—ã–π (bg-emerald-600)
-   **MULTIPLAYER**: —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π (bg-violet-600)
-   **PROGRESSIVE**: —Ä–æ–∑–æ–≤—ã–π (bg-rose-600)
-   **TIERED**: —Å–ª–∞–Ω—Ü–µ–≤—ã–π (bg-slate-600)

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ EventTemplate

```typescript
interface EventTemplate {
	id?: number;
	slug: string; // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
	name: string; // –ù–∞–∑–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
	description?: {
		// –õ–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
		en: string;
		ru: string;
	};
	type: EventType; // –¢–∏–ø —Å–æ–±—ã—Ç–∏—è
	triggerConfig?: Record<string, any>; // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç—Ä–∏–≥–≥–µ—Ä–∞
	effect?: Record<string, any>; // –≠—Ñ—Ñ–µ–∫—Ç—ã —Å–æ–±—ã—Ç–∏—è
	frequency?: Record<string, any>; // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —á–∞—Å—Ç–æ—Ç—ã
	conditions?: Record<string, any>; // –£—Å–ª–æ–≤–∏—è —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è
	active?: boolean; // –°—Ç–∞—Ç—É—Å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
	createdAt?: string;
	updatedAt?: string;
}
```

## üîß –ü—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

### RANDOM —Å–æ–±—ã—Ç–∏–µ

```json
{
	"slug": "solar_flare",
	"name": "Solar Flare",
	"type": "RANDOM",
	"triggerConfig": {
		"chancePerMinute": 0.05
	},
	"effect": {
		"multipliers": {
			"cps": 1.25
		},
		"duration": 180
	},
	"frequency": {
		"maxPerHour": 2
	}
}
```

### PERIODIC —Å–æ–±—ã—Ç–∏–µ

```json
{
	"slug": "daily_reward",
	"name": "Daily Reward",
	"type": "PERIODIC",
	"triggerConfig": {
		"interval": "24h"
	},
	"effect": {
		"reward": {
			"stardust": 50
		}
	},
	"frequency": {
		"maxPerDay": 1
	}
}
```

### CONDITIONAL —Å–æ–±—ã—Ç–∏–µ

```json
{
	"slug": "chaos_spike",
	"name": "Chaos Spike",
	"type": "CONDITIONAL",
	"triggerConfig": {
		"condition": {
			"chaosLevel": {
				"$gt": 70
			}
		}
	},
	"effect": {
		"multipliers": {
			"entropy": 1.5
		},
		"duration": 300
	}
}
```

## üöÄ API Endpoints

### –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π

```http
GET /api/event-templates
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–æ–±—ã—Ç–∏—è

```http
GET /api/event-templates/:slug
```

### –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π

```http
POST /api/event-templates
Content-Type: application/json

[
	{
		"slug": "event_slug",
		"name": "Event Name",
		"type": "RANDOM",
		// ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
	}
]
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è

```http
PUT /api/event-templates/:slug
Content-Type: application/json

{
	"name": "Updated Event Name",
	// ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
}
```

### –£–¥–∞–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è

```http
DELETE /api/event-templates/:slug
```

### –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞

```http
PUT /api/event-templates/:slug/toggle
```

## üìÅ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### Frontend

-   `nebulahunt-webclient/src/components/EventTemplatesTab.tsx` - –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
-   `nebulahunt-webclient/public/examples/event-templates-example.json` - –ø—Ä–∏–º–µ—Ä—ã

### Backend

-   `test-event-templates-api.js` - —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç API

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

-   `EVENT_TEMPLATES_SUMMARY.md` - –¥–∞–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üéØ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. **–û—Ç–∫—Ä—ã—Ç—å Game Settings** –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
2. **–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É Events** (üéâ)
3. **–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ —Å–æ–±—ã—Ç–∏–µ** –∏–ª–∏ **–∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑ JSON**
4. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã**:
    - –¢–∏–ø —Å–æ–±—ã—Ç–∏—è
    - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Ç—Ä–∏–≥–≥–µ—Ä–∞
    - –≠—Ñ—Ñ–µ–∫—Ç—ã
    - –ß–∞—Å—Ç–æ—Ç—É –∏ —É—Å–ª–æ–≤–∏—è
5. **–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å/–¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å** —Å–æ–±—ã—Ç–∏—è
6. **–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å** –¥–ª—è —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

–°–æ–∑–¥–∞–Ω–∞ –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Event Templates —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º UI, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∞—è –≤—Å–µ —Ç–∏–ø—ã —Å–æ–±—ã—Ç–∏–π –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–∞—è —É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ –∏–≥—Ä—ã.
