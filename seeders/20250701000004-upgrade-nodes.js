'use strict';

/** @type {import('sequelize-cli').Migration} */
module.exports = {
	async up(queryInterface, Sequelize) {
		// Upgrade nodes based on the example
		await queryInterface.bulkInsert(
			'upgradenodes',
			[
				{
					id: 'basic_mining',
					name: 'Basic Mining',
					description: {
						en: 'Basic mining operation that generates stars automatically',
						ru: '–ë–∞–∑–æ–≤–∞—è –¥–æ–±—ã—á–∞, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—â–∞—è –∑–≤–µ–∑–¥—ã',
					},
					maxLevel: 10,
					basePrice: 100,
					effectPerLevel: 1.0,
					priceMultiplier: 1.15,
					resource: 'stardust',
					category: 'production',
					icon: '‚õèÔ∏è',
					stability: 0.0,
					instability: 0.0,
					modifiers: {
						autoClick: true,
						baseGeneration: 1,
					},
					active: true,
					conditions: {
						requiredLevel: 1,
					},
					children: ['improved_mining', 'energy_efficiency'],
					weight: 1,
					createdAt: new Date(),
					updatedAt: new Date(),
				},
				{
					id: 'improved_mining',
					name: 'Improved Mining',
					description: {
						en: 'Improved mining efficiency increases star generation',
						ru: '–£–ª—É—á—à–µ–Ω–Ω–∞—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–æ–±—ã—á–∏ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∑–≤–µ–∑–¥',
					},
					maxLevel: 15,
					basePrice: 250,
					effectPerLevel: 2.0,
					priceMultiplier: 1.2,
					resource: 'stardust',
					category: 'production',
					icon: '‚ö°',
					stability: 0.0,
					instability: 0.1,
					modifiers: {
						autoClick: true,
						baseGeneration: 2,
						criticalChance: 0.05,
					},
					active: true,
					conditions: {
						requiredNodes: ['basic_mining'],
						requiredLevel: 2,
					},
					children: ['advanced_mining', 'automation'],
					weight: 2,
					createdAt: new Date(),
					updatedAt: new Date(),
				},
				{
					id: 'energy_efficiency',
					name: 'Energy Efficiency',
					description: {
						en: 'Improved energy efficiency reduces instability',
						ru: '–£–ª—É—á—à–µ–Ω–Ω–∞—è —ç–Ω–µ—Ä–≥–æ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å–Ω–∏–∂–∞–µ—Ç –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å',
					},
					maxLevel: 8,
					basePrice: 200,
					effectPerLevel: 1.2,
					priceMultiplier: 1.1,
					resource: 'stardust',
					category: 'special',
					icon: 'üîã',
					stability: 0.1,
					instability: -0.1,
					modifiers: {
						stabilityBonus: 0.1,
						energyCost: -0.1,
					},
					active: true,
					conditions: {
						requiredNodes: ['basic_mining'],
						requiredLevel: 2,
					},
					children: ['power_optimization'],
					weight: 2,
					createdAt: new Date(),
					updatedAt: new Date(),
				},
				{
					id: 'advanced_mining',
					name: 'Advanced Mining',
					description: {
						en: 'Advanced mining techniques with special abilities',
						ru: '–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –º–µ—Ç–æ–¥—ã –¥–æ–±—ã—á–∏ —Å–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏',
					},
					maxLevel: 20,
					basePrice: 500,
					effectPerLevel: 5.0,
					priceMultiplier: 1.25,
					resource: 'darkMatter',
					category: 'production',
					icon: 'üöÄ',
					stability: 0.0,
					instability: 0.2,
					modifiers: {
						autoClick: true,
						baseGeneration: 5,
						criticalChance: 0.1,
						specialAbility: 'burst_mining',
					},
					active: true,
					conditions: {
						requiredNodes: ['improved_mining'],
						requiredLevel: 5,
						requiredStars: 1000,
					},
					children: ['quantum_mining'],
					weight: 3,
					createdAt: new Date(),
					updatedAt: new Date(),
				},
				{
					id: 'automation',
					name: 'Automation',
					description: {
						en: 'Automate resource collection processes',
						ru: '–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ —Å–±–æ—Ä–∞ —Ä–µ—Å—É—Ä—Å–æ–≤',
					},
					maxLevel: 12,
					basePrice: 300,
					effectPerLevel: 1.5,
					priceMultiplier: 1.18,
					resource: 'stardust',
					category: 'economy',
					icon: 'ü§ñ',
					stability: 0.05,
					instability: 0.05,
					modifiers: {
						autoCollection: true,
						collectionSpeed: 0.2,
					},
					active: true,
					conditions: {
						requiredNodes: ['improved_mining'],
						requiredLevel: 3,
					},
					children: ['ai_optimization'],
					weight: 2,
					createdAt: new Date(),
					updatedAt: new Date(),
				},
				{
					id: 'power_optimization',
					name: 'Power Optimization',
					description: {
						en: 'Optimize power consumption for maximum efficiency',
						ru: '–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —ç–Ω–µ—Ä–≥–æ–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏',
					},
					maxLevel: 10,
					basePrice: 400,
					effectPerLevel: 1.8,
					priceMultiplier: 1.22,
					resource: 'darkMatter',
					category: 'special',
					icon: '‚öôÔ∏è',
					stability: 0.2,
					instability: -0.15,
					modifiers: {
						powerEfficiency: 0.3,
						stabilityBonus: 0.2,
					},
					active: true,
					conditions: {
						requiredNodes: ['energy_efficiency'],
						requiredLevel: 4,
					},
					children: ['quantum_efficiency'],
					weight: 3,
					createdAt: new Date(),
					updatedAt: new Date(),
				},
				{
					id: 'quantum_mining',
					name: 'Quantum Mining',
					description: {
						en: 'Quantum-level mining operations',
						ru: '–ö–≤–∞–Ω—Ç–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–æ–±—ã—á–∏',
					},
					maxLevel: 25,
					basePrice: 1000,
					effectPerLevel: 10.0,
					priceMultiplier: 1.3,
					resource: 'darkMatter',
					category: 'production',
					icon: '‚öõÔ∏è',
					stability: 0.1,
					instability: 0.3,
					modifiers: {
						quantumGeneration: true,
						baseGeneration: 10,
						criticalChance: 0.2,
					},
					active: true,
					conditions: {
						requiredNodes: ['advanced_mining'],
						requiredLevel: 10,
						requiredStars: 5000,
					},
					children: [],
					weight: 5,
					createdAt: new Date(),
					updatedAt: new Date(),
				},
			],
			{}
		);
	},

	async down(queryInterface, Sequelize) {
		await queryInterface.bulkDelete('upgradenodes', null, {});
	},
};
