# Seeders для Nebulahunt Server

Этот каталог содержит seeders для заполнения базы данных демонстрационными данными.

## Структура Seeders

Seeders выполняются в следующем порядке:

1. **20250701000001-demo-users.js** - Демонстрационные пользователи и их состояния
2. **20250701000002-demo-galaxies.js** - Демонстрационные галактики
3. **20250701000003-demo-artifacts.js** - Демонстрационные артефакты
4. **20250701000004-upgrade-nodes.js** - Узлы улучшений
5. **20250701000005-task-templates.js** - Шаблоны заданий
6. **20250701000006-event-templates.js** - Шаблоны событий
7. **20250701000007-market-commissions.js** - Комиссии рынка
8. **20250701000008-package-templates.js** - Шаблоны пакетов
9. **20250701000009-demo-user-upgrades.js** - Демонстрационные улучшения пользователей
10. **20250701000010-demo-user-tasks.js** - Демонстрационные задания пользователей
11. **20250701000011-demo-user-events.js** - Демонстрационные события пользователей
12. **20250701000012-demo-market-offers.js** - Демонстрационные предложения рынка

## Демонстрационные данные

### Пользователи

-   **demo_user** (ID: 123456789) - Обычный пользователь
-   **admin_user** (ID: 987654321) - Администратор
-   **system_user** (ID: 555666777) - Системный пользователь

### Ресурсы

-   **Stardust** - Основная валюта игры
-   **Dark Matter** - Продвинутая валюта
-   **TG Stars** - Внешняя валюта
-   **TON Tokens** - Криптовалюта

### Артефакты

-   **Common** - Обычные артефакты (Stardust Amplifier, Chaos Crystal)
-   **Uncommon** - Необычные артефакты
-   **Rare** - Редкие артефакты (Dark Matter Orb)
-   **Epic** - Эпические артефакты (Stellar Engine)
-   **Legendary** - Легендарные артефакты (Cosmic Heart)

### Узлы улучшений

-   **Basic Mining** - Базовая добыча
-   **Improved Mining** - Улучшенная добыча
-   **Energy Efficiency** - Энергоэффективность
-   **Advanced Mining** - Продвинутая добыча
-   **Automation** - Автоматизация
-   **Power Optimization** - Оптимизация энергии
-   **Quantum Mining** - Квантовая добыча

### Задания

-   Создание звезд (100, 1000, 10000, 50000, 100000)
-   Сбор звездной пыли (5000, 25000, 100000)
-   Сбор темной материи (10, 50, 200)
-   Владение галактиками (3, 5, 10)
-   Ежедневные и еженедельные задания
-   Задания по улучшению и сканированию галактик

### События

-   **Supernova Bonus** - Разовое событие
-   **Chaos Spike** - Условное событие
-   **Daily Reward** - Периодическое событие
-   **Solar Flare** - Случайное событие
-   **Black Hole Awakens** - Цепное событие
-   **Galaxy Storm** - Случайное событие
-   **Cosmic Harvest** - Периодическое событие
-   **Stellar Convergence** - Условное событие

### Рынок

-   Комиссии для разных валют (1-5%)
-   Демонстрационные предложения (артефакты, галактики, ресурсы)
-   Завершенные транзакции
-   Платежные транзакции

### Пакеты

-   Стартовые пакеты (Stardust, Dark Matter)
-   Продвинутые пакеты
-   Премиум пакеты
-   TON пакеты
-   Ограниченные издания

## Запуск Seeders

### Запуск всех seeders

```bash
# Используя npm script
npm run seed

# Или напрямую через sequelize-cli
npx sequelize-cli db:seed:all
```

### Запуск конкретного seeder

```bash
# Запуск только пользователей
npx sequelize-cli db:seed --seed 20250701000001-demo-users.js

# Запуск только галактик
npx sequelize-cli db:seed --seed 20250701000002-demo-galaxies.js
```

### Откат seeders

```bash
# Откат всех seeders
npx sequelize-cli db:seed:undo:all

# Откат конкретного seeder
npx sequelize-cli db:seed:undo --seed 20250701000001-demo-users.js
```

## Использование в Docker

### Запуск seeders в Docker

```bash
# В production
docker-compose exec app npx sequelize-cli db:seed:all

# В development
docker-compose -f docker-compose.dev.yml exec app npx sequelize-cli db:seed:all
```

### Использование helper script

```bash
# Добавить в docker-scripts.sh команду для seeders
./docker-scripts.sh seed
```

## Настройка

### Добавление новых seeders

1. Создайте новый файл с именем `YYYYMMDDHHMMSS-description.js`
2. Используйте формат из существующих seeders
3. Добавьте описание в этот README

### Модификация существующих seeders

1. Обновите данные в соответствующем файле
2. Обновите описание в этом README
3. При необходимости обновите зависимости

## Примечания

-   Все seeders используют реальные ID пользователей из демонстрационных данных
-   Временные метки настроены для демонстрации различных состояний
-   Некоторые данные (например, артефакты) доступны для покупки (userId: null)
-   Системные предложения создаются от имени system_user (ID: 555666777)

## Безопасность

-   Демонстрационные данные не содержат реальных паролей или токенов
-   Все валюты и ресурсы являются демонстрационными
-   В продакшене используйте только необходимые seeders
